<section class="bg-white shadow-md rounded-lg p-6 mb-6">
    <% if @subscription %>
        <h2 class="text-xl font-semibold mb-4">Subscription Status</h2>
        <div class="flex items-center justify-between">
            <div>
                <p class="text-lg font-medium">Plan: <span class="text-blue-500">Monthly</span></p>
                <p class="text-sm text-gray-600">Next Billing Date: <span class="text-gray-800"><%= @subscription.last_payment_date + 1.month %></span></p>
            </div>
            <% if @subscription.active %>
                <div class="px-4 py-2 bg-green-100 text-green-700 font-semibold rounded-full">
                    Active
                </div>
            <% else %>
                <div class="px-4 py-2 bg-red-100 text-red-700 font-semibold rounded-full">
                    Inactive
                </div>
            <% end %>
        </div>
    <% else %>
        <form action="/checkout/session/create" method="POST" data-turbo="false">
            <input type="hidden" name="priceId" value="price_1QcW4lFqOwmU7NyixKqqcqIU" />
            <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
            <button type="submit">Checkout</button>
        </form>
    <% end %>
</section>

<section class="bg-white shadow-md rounded-lg p-6">
    <% if @active_rental %>
        <h2 class="text-xl font-semibold mb-4">Current Rental</h2>
        <div class="flex items-center justify-between">
            <div>
                <p class="text-lg font-medium">Puzzle: <span class="text-blue-500"><%= @active_rental.inventory.puzzle.name %></span></p>
                <p class="text-sm text-gray-600">Rental Status: <span class="text-gray-800"><%= @active_rental.status.titleize %></span></p>
                <p class="text-sm text-gray-600">Due Date: <span class="text-gray-800"><%= (@active_rental.created_at + 1.month).to_date %></span></p>
            </div>
            <div class="px-4 py-2 bg-yellow-100 text-yellow-700 font-semibold rounded-full">
                Out for Delivery
            </div>
        </div>
    <% else %>
        No active Rental
    <% end %>
</section>
