<!-- How It Works Section -->
<section class="py-16 bg-white">
  <div class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-8">
    <!-- Text Content -->
    <div class="flex-1">
      <h2 class="text-2xl md:text-3xl font-extrabold text-gray-900 mb-4">How Does It Work?</h2>
      <ol class="list-decimal pl-6 text-gray-700 space-y-2">
        <li>Subscribe to our monthly Puzzle Box service.</li>
        <li>Receive a fun-filled Puzzle Box to solve.</li>
        <li>Complete the Puzzle Box and send it back with the included prepaid label.</li>
        <li>Be sent a new Puzzle Box!</li>
      </ol>
    </div>

    <!-- Image -->
    <div class="flex-1">
    <%= image_tag 'trials-of-camelot.jpg', alt: 'Trials of Camelot', class: "w-full max-w-sm mx-auto" %>
    </div>
  </div>
</section>

<!-- Puzzle Boxes Section -->
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-4 text-center">
    <h2 class="text-2xl md:text-3xl font-extrabold text-gray-900 mb-10">Explore Our Puzzle Boxes</h2>

    <!-- Carousel-like wrapper -->
    <div class="flex justify-center items-center gap-4 relative" data-controller="carousel">
      <!-- Left arrow -->
      <button class="absolute left-0 top-1/2 -translate-y-1/2 bg-white border border-dashed rounded-full w-10 h-10 flex items-center justify-center shadow" data-action="click->carousel#scrollLeft">
        &#8592;
      </button>

      <!-- Puzzle Box Cards -->
      <div class="flex flex-nowrap gap-6 mx-12 overflow-x-scroll snap-x snap-mandatory scroll-smooth pb-4" data-carousel-target="container">
        <% @puzzles.each_with_index do |puzzle, index| %>
          <%= render partial: "puzzles/puzzle", locals: { puzzle: puzzle, index: index, small: true } %>
        <% end %>
      </div>

      <!-- Right arrow -->
      <button class="absolute right-0 top-1/2 -translate-y-1/2 bg-white border border-dashed rounded-full w-10 h-10 flex items-center justify-center shadow" data-action="click->carousel#scrollRight">
        &#8594;
      </button>
    </div>

    <!-- View All Button -->
    <div class="mt-10">
      <%= link_to "View All", puzzles_path, class: 'bg-teal-400 hover:bg-teal-500 text-white font-semibold py-3 px-6 rounded-full shadow-md transition' %>
    </div>
  </div>
</section>
